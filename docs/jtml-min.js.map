{
  "version": 3,
  "sources": ["../src/template-engine.ts", "../src/new-main.ts"],
  "sourcesContent": ["const actions: { [name: string]: (param: string, data: object) => string } = {\n    'var': (param: string, data: object): string => {\n        return interpolate(param, data);\n    },\n}\n\nfunction renderTemplate(el: Element, response: object): Element {\n    const content = el.cloneNode(true) as Element;\n\n    processElements(content, response);\n\n    return content;\n}\n\nfunction processElements(content: Element, response: object): void {\n    const foreachBlocks = content.children;\n    if (!foreachBlocks) {\n        return;\n    }\n\n    for (const loopEl of foreachBlocks) {\n        if (loopEl.hasAttribute(\"jt-foreach\")) {\n            processForeachBlocks(loopEl, response);\n            continue;\n        }\n\n        processElements(loopEl as HTMLElement, response);\n        applyAttrBindings(loopEl, response);\n    }\n}\n\nfunction processForeachBlocks(el: Element, response: object): void {\n    const path = el.getAttribute(\"jt-foreach\");\n    const loopData = path ? getNestedValue(response, path) : response;\n\n    if (!Array.isArray(loopData)) {\n        console.warn(\"jt-foreach expected an array but got\", loopData);\n        return;\n    }\n\n    const cloneContainer = document.createDocumentFragment();\n\n    loopData.forEach(item => {\n        const inner = el.cloneNode(true) as HTMLElement;\n        inner.removeAttribute(\"jt-foreach\");\n\n        processElements(inner, item);\n\n        cloneContainer.appendChild(inner);\n    });\n\n    // Replace loopEl with its clones, not append to target directly\n    el.replaceWith(cloneContainer);\n}\n\nfunction applyAttrBindings(el: Element, data: object): void {\n    // const elements = [fragment];\n\n    // const allChildren = fragment?.querySelectorAll(\"*\");\n    // if (allChildren) {\n    //     elements.push(...allChildren);\n    // }\n\n    // for (const el of elements) {\n    for (const attr of el.attributes) {\n        // console.log(attr);\n        if (!attr.name.startsWith(\"jt-\")) {\n            continue;\n        }\n\n        el.removeAttribute(attr.name); // remove after processing\n\n        const [attrName, transformerName] = attr.name.slice(3).split(':');\n        const attrValue = attr.value;\n        const transformer = actions[transformerName];\n\n        let value;\n        if (transformer) {\n            value = transformer(attrValue, data);\n        } else {\n            value = getNestedValue(data, attrValue);\n        }\n\n        if (attrName === 'text') {\n            el.textContent = value;\n        } else {\n            el.setAttribute(attrName, value);\n        }\n    }\n    // }\n}\n\nfunction getNestedValue(obj: Record<string, any>, path: string): any | null {\n    return path\n        .split('.')\n        .reduce((o, key) => {\n            if (o) {\n                return o[key];\n            }\n            return undefined;\n        }, obj);\n}\n\nfunction interpolate(template: string, data: object): string {\n    let result = '';\n    let i = 0;\n\n    while (i < template.length) {\n        const start = template.indexOf('{{', i);\n\n        if (start === -1) {\n            result += template.slice(i); // Append remaining text\n            break;\n        }\n\n        result += template.slice(i, start); // Append text before {{\n        const end = template.indexOf('}}', start);\n\n        if (end === -1) {\n            result += template.slice(start); // No matching }} \u2014 treat as raw\n            break;\n        }\n\n        const key = template\n            .slice(start + 2, end)\n            .trim(); // Extract the key inside {{ }}\n\n        result += getNestedValue(data, key); // Interpolate or empty\n        i = end + 2; // Move past the }}\n    }\n\n    return result;\n}\n\nexport {\n    renderTemplate,\n}\n", "import { renderTemplate } from './template-engine';\n\n// @TODO declare constants\n// @TODO move other functions to different files\n// @TODO refactor\n\nconst SupportedEvents = [\"jt-click\", \"jt-submit\", \"jt-input\", \"jt-change\", \"jt-load\"]; // extend as needed\n\ntype HookFunction = { pre?: Function, post?: Function };\n\nconst builtInActions: { [name: string]: HookFunction } = {\n};\nconst actions = {\n  ...builtInActions,\n}\nconst globalActions: HookFunction[] = [];\n\nfunction processJtmlElements(scope: Element): void {\n  scope.querySelectorAll('[jt-scope]')\n    .forEach(jtScope => {\n      initRequesters(jtScope);\n      hideInitialUiMarkers(jtScope);\n    });\n}\n\nfunction initRequesters(scope: Element): void {\n\n  scope.querySelectorAll('form, a').forEach(requester => {\n    const event = resolveEvent(requester);\n    const triggerEl = resolveAttrElem(scope, requester, event);\n\n    if (event === 'jt-load') {\n      queueMicrotask(() => attachRequest(scope, requester));\n    } else {\n      triggerEl.addEventListener(event.substring(3), (e: Event) => {\n        e.preventDefault();\n        attachRequest(scope, requester);\n      });\n    }\n  });\n}\n\nfunction hideInitialUiMarkers(scope: Element): void {\n  scope.querySelectorAll(\"[jt-loading], [jt-error], [jt-error-data]\").forEach(el => {\n    (el as HTMLElement).style.display = \"none\";\n  });\n}\n\nfunction resolveEvent(requester: Element): string {\n  for (const attr of requester.attributes) {\n    if (!attr.name.startsWith(\"jt-\")) {\n      continue;\n    }\n\n    if (!SupportedEvents.includes(attr.name)) {\n      continue;\n    }\n\n    return attr.name;\n  }\n\n  return getTriggerDefault(requester);\n}\n\nfunction getTriggerDefault(el: Element): string {\n  if (el.tagName === 'FORM') {\n    return 'jt-submit';\n  }\n  return 'jt-click';\n}\n\nfunction resolveMethod(el: Element): string {\n  if (el.tagName === 'FORM') {\n    return el.getAttribute('method')?.toLowerCase() || 'get';\n  }\n  return 'get';\n}\n\nasync function attachRequest(scope: Element, requester: Element): Promise<void> {\n  const method = resolveMethod(requester); // \uD83D\uDD27\n  const target = resolveAttrElem(scope, requester, 'jt-target');\n\n  const loading = resolveSelector(scope, '[jt-loading]');\n  const error = resolveSelector(scope, '[jt-error]');\n  const errorData = resolveSelector(scope, '[jt-error-data]');\n\n  showElement(loading);\n  hideElement(error);\n\n  try {\n    const response = await handleRequest(requester, method);\n    handleResponse(requester, response, target);\n  } catch (err) {\n    // @TODO refactor to new method\n    if (errorData && (err as { body: object })?.body) {\n      handleErrorData((err as { body: object })?.body, errorData);\n      showElement(errorData);\n    } else if (error) {\n      showElement(error);\n    }\n  } finally {\n    hideElement(loading);\n  }\n}\n\nasync function handleRequest(requester: Element, method: string): Promise<object | string | null> {\n  const testData = requester.getAttribute('jt-test-data');\n  if (testData) {\n    return getTestData(requester);\n  }\n  return fetchData(requester, method);\n}\n\nasync function fetchData(requester: Element, method: string): Promise<object | string | null> {\n  const url = requester.getAttribute('action') || requester.getAttribute('href') as string;\n  const customOptions = applyActions(requester, \"pre\");\n\n  const options = {\n    method,\n    headers: customOptions.headers || {},\n  } as RequestInit;\n  const isWriteMethod = [\"post\", \"put\", \"patch\"].includes(method);\n  if (isWriteMethod) {\n    const body = extractRequestBody(requester);\n    // @TODO let content-type be customizable?\n    options.headers = { ...options.headers, \"Content-Type\": \"application/json\" };\n    options.body = JSON.stringify(body);\n  }\n\n  try {\n    const res = await fetch(url, options);\n    const body = await getResponseBody(requester, res);\n    if (!res.ok) {\n      throw {\n        status: res.status,\n        body,\n      };\n    }\n\n    return body;\n  } catch (error) {\n    console.error('[jtml] fetch failed:', url, error);\n    throw error;\n  }\n}\n\nasync function getResponseBody(requester: Element, res: Response): Promise<object | string | null> {\n  const contentType = res.headers.get('Content-Type');\n  if (!contentType) {\n    return null;\n  }\n\n  if (requester.hasAttribute('jt-html')) {\n    return res.text();\n  }\n\n  return res.json();\n}\n\nfunction extractRequestBody(requester: Element): object {\n  if (requester.tagName !== 'FORM') {\n    return {};\n  }\n\n  const formData = new FormData(requester as HTMLFormElement);\n  const obj: Record<string, object | string> = {};\n  for (const [key, value] of formData.entries()) {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction getTestData(el: Element): object {\n  const testData = el.getAttribute('x-test-data');\n  if (!testData) {\n    return {};\n  }\n\n  try {\n    const data = JSON.parse(testData);\n    console.info('[jtml] Using x-test-data');\n    return data;\n  } catch (error) {\n    console.error('[jtml] Invalid x-test-data:', error);\n    throw error;\n  }\n}\n\nfunction handleResponse(requester: Element, response: object | string | undefined | null, target: Element) {\n  if (requester.hasAttribute(\"jt-html\")) {\n    target.innerHTML = response as string;\n  } else {\n    const template = target.querySelector(\"template\");\n    if (!template) {\n      return;\n    }\n\n    const renderedDom = renderTemplate(template.content as unknown as HTMLElement, response as object);\n    target.innerHTML = \"\";\n    target.appendChild(renderedDom);\n\n    applyActions(requester, \"post\", response as object);\n  }\n}\n\nfunction handleErrorData(response: object | string, target: Element) {\n  const renderedDom = renderTemplate(target, response as object);\n  target.innerHTML = renderedDom.innerHTML;\n}\n\nfunction resolveAttrElem(scope: Element, elem: Element, attr: string): Element {\n  const selector = elem.getAttribute(attr);\n  if (!selector) {\n    return elem;\n  }\n\n  const triggerEl = resolveSelector(scope, selector);\n  if (!triggerEl) {\n    console.warn(`[jtml] Selector '${selector}' from ${attr} not found in:`, scope);\n    return elem;\n  }\n\n  return triggerEl;\n}\n\nfunction resolveSelector(el: Element, selector: string): Element | null {\n  try {\n    const target = el.querySelector(selector);\n    if (!target) {\n      return null;\n    }\n    return target as HTMLElement;\n  } catch (err) {\n    console.warn(`[jtml] Invalid selector '${selector}':`, err);\n    return null;\n  }\n}\n\nfunction showElement(el: Element | null): void {\n  if (!el) {\n    return;\n  }\n\n  if ((el as HTMLElement).style.display === 'none') {\n    console.log((el as HTMLElement).style.display);\n    (el as HTMLElement).style.display = '';\n  }\n}\nfunction hideElement(el: Element | null): void {\n  if (!el) {\n    return;\n  }\n  (el as HTMLElement).style.display = 'none';\n}\n\nfunction applyActions(el: Element, phase: 'pre' | 'post', response?: object): { el: Element, response: object | undefined, headers?: object } {\n  const actionsNames = el.getAttribute('jt-hook')?.split(',') || [];\n\n  const ctx = { el, response };\n\n  for (const name of actionsNames) {\n    const action = actions[name];\n    const fn = action?.[phase];\n\n    if (typeof fn !== 'function') {\n      console.warn(`[jtml] Action \"${name}\" does not have a valid ${phase}() function`);\n      continue;\n    }\n\n    fn(ctx);\n  }\n\n  globalActions.forEach(fn => {\n    if (typeof fn[phase] !== 'function') {\n      console.warn(`[jtml] Registered global action has an invalid ${phase} function:`, fn);\n      return;\n    }\n\n    fn[phase]?.(ctx);\n  });\n\n  return ctx;\n}\n\nif (document.readyState !== \"loading\") {\n  processJtmlElements(document.body);\n} else {\n  document.addEventListener(\"DOMContentLoaded\", () => processJtmlElements(document.body));\n}\n\nfunction addGlobalAction(fn: HookFunction) {\n  globalActions.push(fn);\n}\n\nfunction registerAction(name: string, fn: HookFunction) {\n  if (!name.startsWith(\"user:\")) {\n    console.warn(`[jtml] Custom actions should be prefixed with \"user:\". Got \"${name}\".`);\n  }\n  actions[name] = fn;\n}\n\n(window as any).Jtml = {\n  addGlobalAction,\n  registerAction\n}\n"],
  "mappings": "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",
  "names": ["actions", "_a"]
}
